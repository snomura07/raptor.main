version: '3'

services:
  dev:
    restart: always
    image: snomura07/raptor_develop_img:latest
    container_name: 'raptor_dev'
    volumes:
      - ../../../src:/home/nomura/src
      - ../../../build:/home/nomura/build
      - ../../../bin:/home/nomura/bin
      - ../../../lib:/home/nomura/lib
      - ../../../script:/home/nomura/script
      - ../../../config:/usr/local/config
      - ../../../resource/thermal_zone0:/home/nomura/thermal_zone0
      - ../../../resource/image:/home/nomura/image
      - ../../../resource/msgs:/var/opt/msgs

    # command: bash
    command: >
      bash -c "
        qemu-arm -L /usr/arm-linux-gnueabi /home/nomura/bin/Zserver
        bash
      "
    ports:
      - 5555:5555
    tty: true
